import os
import warnings

from dotenv import load_dotenv
from langchain.chat_models import ChatOpenAI


def setup_gpt4(temperature=0.0):
    return ChatOpenAI(model="gpt-4", temperature=temperature, streaming=True)


def setup_gpt35(temperature=0.0):
    return ChatOpenAI(model="gpt-3.5-turbo", temperature=temperature, streaming=True)


def setup_lm_studio(temperature=0.0):
    return ChatOpenAI(
        api_key="lm-studio",
        base_url=os.environ.get("LM_STUDIO_URL"),
        temperature=temperature,
        streaming=True,
    )


load_dotenv()

warnings.filterwarnings("ignore", category=DeprecationWarning)


if __name__ == "__main__":
    from langchain.schema import HumanMessage

    print(os.environ.get("LM_STUDIO_URL"))

    chat = setup_lm_studio()
    chat(
        [
            HumanMessage(content="Hi"),
        ]
    )
